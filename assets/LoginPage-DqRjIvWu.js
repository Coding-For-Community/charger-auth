import{u,r as s,R as f,j as t,b as o}from"./index-f4jVrthd.js";import{u as g}from"./useMutation-Cw0ESUGS.js";import{f as p,E as n}from"./fetchBackend-BhcWXkpf.js";import{S as d}from"./SignInButton-IY2wy4eS.js";import{S as h}from"./Stack-DqPKgHu3.js";import{T as m}from"./Text-Q1Gb4oOA.js";import{T as x}from"./TextInput-BJdK_MAG.js";import"./InputBase-CRgqi-tl.js";import"./CloseButton-dd7xDHOg.js";import"./UnstyledButton-CyppDay1.js";function k(){const r=u(),[e,l]=s.useState(""),{redirectUrl:a}=f.useSearch(),c=g({mutationFn:async i=>{if(i.preventDefault(),e.trim()===""){alert("Please enter your email.");return}if(!(await(await p("/checkin/studentExists/"+btoa(e))).json()).exists){window.alert("There is no user with email "+e+".");return}window.localStorage.setItem(n,e),r({to:a})}});return s.useEffect(()=>{window.localStorage.getItem(n)&&r({to:a})},[]),t.jsxs(h,{p:o(10),gap:0,style:{justifyContent:"center",minHeight:"100vh"},children:[t.jsx(m,{style:{fontSize:24,fontWeight:"bold",color:"#111827",textAlign:"center",margin:0},children:"Welcome to ChargerAuth!"}),t.jsx(m,{style:{fontSize:14,color:"#4b5563",textAlign:"center",marginBottom:o(20)},children:"Enter your email to sign in"}),t.jsxs("form",{onSubmit:c.mutate,children:[t.jsx(x,{value:e,onChange:i=>l(i.target.value),placeholder:"Email",size:"lg",radius:12,mb:o(20)}),t.jsx(d,{})]})]})}export{k as component};
