import{r as y,j as d,b as A}from"./index-GyekqHXk.js";import{c as $,u as le,O as de,g as w,F as ce,a as ie,S as ue}from"./FocusTrap-2L9ynb0x.js";import{B as T,j as me,l as ye,i as N,b as S,c as B,u as fe,d as pe,g as xe,e as Me}from"./fetchBackend--MhTZLIg.js";import{u as he,C as ve,c as Se}from"./CloseButton-dyM2rCS7.js";import{P as Be}from"./Paper-qk2q7ldf.js";import{u as ge,T as L}from"./Button-wTOcAUFv.js";import{u as Ne,R as je}from"./use-window-event-BTs5n1bZ.js";const[be,M]=$("ModalBase component was not found in tree");function Ce({opened:e,transitionDuration:t}){const[s,o]=y.useState(e),a=y.useRef(-1),r=ge()?0:t;return y.useEffect(()=>(e?(o(!0),window.clearTimeout(a.current)):r===0?o(!1):a.current=window.setTimeout(()=>o(!1),r),()=>window.clearTimeout(a.current)),[e,r]),s}function we({id:e,transitionProps:t,opened:s,trapFocus:o,closeOnEscape:a,onClose:l,returnFocus:r}){const n=he(e),[c,i]=y.useState(!1),[u,f]=y.useState(!1),p=typeof t?.duration=="number"?t?.duration:200,m=Ce({opened:s,transitionDuration:p});return Ne("keydown",v=>{v.key==="Escape"&&a&&!v.isComposing&&s&&v.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&l()},{capture:!0}),le({opened:s,shouldReturnFocus:o&&r}),{_id:n,titleMounted:c,bodyMounted:u,shouldLockScroll:m,setTitleMounted:i,setBodyMounted:f}}const Z=y.forwardRef(({keepMounted:e,opened:t,onClose:s,id:o,transitionProps:a,onExitTransitionEnd:l,onEnterTransitionEnd:r,trapFocus:n,closeOnEscape:c,returnFocus:i,closeOnClickOutside:u,withinPortal:f,portalProps:p,lockScroll:m,children:v,zIndex:g,shadow:C,padding:z,__vars:I,unstyled:J,removeScrollProps:Q,...X},Y)=>{const{_id:H,titleMounted:ee,bodyMounted:te,shouldLockScroll:se,setTitleMounted:oe,setBodyMounted:ae}=we({id:o,transitionProps:a,opened:t,trapFocus:n,closeOnEscape:c,onClose:s,returnFocus:i}),{key:ne,...re}=Q||{};return d.jsx(de,{...p,withinPortal:f,children:d.jsx(be,{value:{opened:t,onClose:s,closeOnClickOutside:u,onExitTransitionEnd:l,onEnterTransitionEnd:r,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${H}-title`,getBodyId:()=>`${H}-body`,titleMounted:ee,bodyMounted:te,setTitleMounted:oe,setBodyMounted:ae,trapFocus:n,closeOnEscape:c,zIndex:g,unstyled:J},children:d.jsx(je,{enabled:se&&m,...re,children:d.jsx(T,{ref:Y,...X,__vars:{...I,"--mb-z-index":(g||w("modal")).toString(),"--mb-shadow":ye(C),"--mb-padding":me(z)},children:v})},ne)})})});Z.displayName="@mantine/core/ModalBase";function Ie(){const e=M();return y.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var j={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const D=y.forwardRef(({className:e,...t},s)=>{const o=Ie(),a=M();return d.jsx(T,{ref:s,...t,id:o,className:N({[j.body]:!a.unstyled},e)})});D.displayName="@mantine/core/ModalBaseBody";const K=y.forwardRef(({className:e,onClick:t,...s},o)=>{const a=M();return d.jsx(ve,{ref:o,...s,onClick:l=>{a.onClose(),t?.(l)},className:N({[j.close]:!a.unstyled},e),unstyled:a.unstyled})});K.displayName="@mantine/core/ModalBaseCloseButton";const V=y.forwardRef(({transitionProps:e,className:t,innerProps:s,onKeyDown:o,style:a,...l},r)=>{const n=M();return d.jsx(L,{mounted:n.opened,transition:"pop",...n.transitionProps,onExited:()=>{n.onExitTransitionEnd?.(),n.transitionProps?.onExited?.()},onEntered:()=>{n.onEnterTransitionEnd?.(),n.transitionProps?.onEntered?.()},...e,children:c=>d.jsx("div",{...s,className:N({[j.inner]:!n.unstyled},s.className),children:d.jsx(ce,{active:n.opened&&n.trapFocus,innerRef:r,children:d.jsx(Be,{...l,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":n.bodyMounted?n.getBodyId():void 0,"aria-labelledby":n.titleMounted?n.getTitleId():void 0,style:[a,c],className:N({[j.content]:!n.unstyled},t),unstyled:n.unstyled,children:l.children})})})})});V.displayName="@mantine/core/ModalBaseContent";const U=y.forwardRef(({className:e,...t},s)=>{const o=M();return d.jsx(T,{component:"header",ref:s,className:N({[j.header]:!o.unstyled},e),...t})});U.displayName="@mantine/core/ModalBaseHeader";const Te={duration:200,timingFunction:"ease",transition:"fade"};function ke(e){const t=M();return{...Te,...t.transitionProps,...e}}const W=y.forwardRef(({onClick:e,transitionProps:t,style:s,visible:o,...a},l)=>{const r=M(),n=ke(t);return d.jsx(L,{mounted:o!==void 0?o:r.opened,...n,transition:"fade",children:c=>d.jsx(ie,{ref:l,fixed:!0,style:[s,c],zIndex:r.zIndex,unstyled:r.unstyled,onClick:i=>{e?.(i),r.closeOnClickOutside&&r.onClose()},...a})})});W.displayName="@mantine/core/ModalBaseOverlay";function Oe(){const e=M();return y.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const q=y.forwardRef(({className:e,...t},s)=>{const o=Oe(),a=M();return d.jsx(T,{component:"h2",ref:s,className:N({[j.title]:!a.unstyled},e),...t,id:o})});q.displayName="@mantine/core/ModalBaseTitle";function Re({children:e}){return d.jsx(d.Fragment,{children:e})}const[_e,b]=$("Modal component was not found in tree");var h={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const k=S((e,t)=>{const s=B("ModalBody",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,...c}=s,i=b();return d.jsx(D,{ref:t,...i.getStyles("body",{classNames:o,style:l,styles:r,className:a}),...c})});k.classes=h;k.displayName="@mantine/core/ModalBody";const O=S((e,t)=>{const s=B("ModalCloseButton",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,...c}=s,i=b();return d.jsx(K,{ref:t,...i.getStyles("close",{classNames:o,style:l,styles:r,className:a}),...c})});O.classes=h;O.displayName="@mantine/core/ModalCloseButton";const R=S((e,t)=>{const s=B("ModalContent",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,children:c,__hidden:i,...u}=s,f=b(),p=f.scrollAreaComponent||Re;return d.jsx(V,{...f.getStyles("content",{className:a,style:l,styles:r,classNames:o}),innerProps:f.getStyles("inner",{className:a,style:l,styles:r,classNames:o}),"data-full-screen":f.fullScreen||void 0,"data-modal-content":!0,"data-hidden":i||void 0,ref:t,...u,children:d.jsx(p,{style:{maxHeight:f.fullScreen?"100dvh":`calc(100dvh - (${A(f.yOffset)} * 2))`},children:c})})});R.classes=h;R.displayName="@mantine/core/ModalContent";const _=S((e,t)=>{const s=B("ModalHeader",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,...c}=s,i=b();return d.jsx(U,{ref:t,...i.getStyles("header",{classNames:o,style:l,styles:r,className:a}),...c})});_.classes=h;_.displayName="@mantine/core/ModalHeader";const P=S((e,t)=>{const s=B("ModalOverlay",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,...c}=s,i=b();return d.jsx(W,{ref:t,...i.getStyles("overlay",{classNames:o,style:l,styles:r,className:a}),...c})});P.classes=h;P.displayName="@mantine/core/ModalOverlay";const Pe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:w("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},Ee=pe((e,{radius:t,size:s,yOffset:o,xOffset:a})=>({root:{"--modal-radius":t===void 0?void 0:Me(t),"--modal-size":xe(s,"modal-size"),"--modal-y-offset":A(o),"--modal-x-offset":A(a)}})),E=S((e,t)=>{const s=B("ModalRoot",Pe,e),{classNames:o,className:a,style:l,styles:r,unstyled:n,vars:c,yOffset:i,scrollAreaComponent:u,radius:f,fullScreen:p,centered:m,xOffset:v,__staticSelector:g,attributes:C,...z}=s,I=fe({name:g,classes:h,props:s,className:a,style:l,classNames:o,styles:r,unstyled:n,attributes:C,vars:c,varsResolver:Ee});return d.jsx(_e,{value:{yOffset:i,scrollAreaComponent:u,getStyles:I,fullScreen:p},children:d.jsx(Z,{ref:t,...I("root"),"data-full-screen":p||void 0,"data-centered":m||void 0,"data-offset-scrollbars":u===ue.Autosize||void 0,unstyled:n,...z})})});E.classes=h;E.displayName="@mantine/core/ModalRoot";const[Fe,ze]=Se();function G({children:e}){const[t,s]=y.useState([]),[o,a]=y.useState(w("modal"));return d.jsx(Fe,{value:{stack:t,addModal:(l,r)=>{s(n=>[...new Set([...n,l])]),a(n=>typeof r=="number"&&typeof n=="number"?Math.max(n,r):n)},removeModal:l=>s(r=>r.filter(n=>n!==l)),getZIndex:l=>`calc(${o} + ${t.indexOf(l)} + 1)`,currentId:t[t.length-1],maxZIndex:o},children:e})}G.displayName="@mantine/core/ModalStack";const F=S((e,t)=>{const s=B("ModalTitle",null,e),{classNames:o,className:a,style:l,styles:r,vars:n,...c}=s,i=b();return d.jsx(q,{ref:t,...i.getStyles("title",{classNames:o,style:l,styles:r,className:a}),...c})});F.classes=h;F.displayName="@mantine/core/ModalTitle";const Ae={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:w("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},x=S((e,t)=>{const{title:s,withOverlay:o,overlayProps:a,withCloseButton:l,closeButtonProps:r,children:n,radius:c,opened:i,stackId:u,zIndex:f,...p}=B("Modal",Ae,e),m=ze(),v=!!s||l,g=m&&u?{closeOnEscape:m.currentId===u,trapFocus:m.currentId===u,zIndex:m.getZIndex(u)}:{},C=o===!1?!1:u&&m?m.currentId===u:i;return y.useEffect(()=>{m&&u&&(i?m.addModal(u,f||w("modal")):m.removeModal(u))},[i,u,f]),d.jsxs(E,{ref:t,radius:c,opened:i,zIndex:m&&u?m.getZIndex(u):f,...p,...g,children:[o&&d.jsx(P,{visible:C,transitionProps:m&&u?{duration:0}:void 0,...a}),d.jsxs(R,{radius:c,__hidden:m&&u&&i?u!==m.currentId:!1,children:[v&&d.jsxs(_,{children:[s&&d.jsx(F,{children:s}),l&&d.jsx(O,{...r})]}),d.jsx(k,{children:n})]})]})});x.classes=h;x.displayName="@mantine/core/Modal";x.Root=E;x.Overlay=P;x.Content=R;x.Body=k;x.Header=_;x.Title=F;x.CloseButton=O;x.Stack=G;export{x as M};
