import{u as m,r as s,j as t,a as o}from"./index-xtDRXCJ4.js";import{S as c}from"./SignInButton-DTVg37ZX.js";import{E as u,f as p}from"./fetchBackend-BQzA7CQB.js";import{u as f}from"./useMutation-jv87BME1.js";import{S as g}from"./Stack-fXoQCZWJ.js";import{T as n}from"./Text-0T1Wgh5A.js";import{T as x}from"./TextInput-CB3j0qyD.js";import"./CloseButton-Di2nFGtq.js";function M(){const a=m(),[e,r]=s.useState(""),l=f({mutationFn:async i=>{if(i.preventDefault(),e.trim()===""){alert("Please enter your email.");return}if(!(await(await p("/checkin/studentExists/"+btoa(e))).json()).exists){window.alert("There is no user with email "+e+".");return}a({to:"/MobileApp"})}});return s.useEffect(()=>{window.localStorage.getItem(u)&&a({to:"/MobileApp"})},[]),t.jsxs(g,{p:o(10),gap:0,style:{justifyContent:"center",minHeight:"100vh"},children:[t.jsx(n,{style:{fontSize:24,fontWeight:"bold",color:"#111827",textAlign:"center"},children:"Welcome to ChargerAuth!"}),t.jsx(n,{style:{fontSize:14,color:"#4b5563",textAlign:"center",marginBottom:o(20)},children:"Enter your email to sign in"}),t.jsxs("form",{onSubmit:l.mutate,children:[t.jsx(x,{value:e,onChange:i=>r(i.target.value),placeholder:"Email",size:"lg",radius:12,mb:o(20)}),t.jsx(c,{})]})]})}export{M as component};
