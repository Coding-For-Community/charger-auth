import{f as u,i as p,r as m,j as s,a as o}from"./index-BVkeMsIk.js";import{u as l}from"./useMutation-D8KK-9Oo.js";import{f}from"./fetchBackend-CVLyjmH-.js";import{S as g}from"./SignInButton-DDMhu83j.js";import{P as x}from"./Paper-C6JxnMY6.js";import{T as h}from"./Title-B_1i9yON.js";import{T as j}from"./TextInput-BTRLSFAp.js";import{T as w}from"./Text-C0IyE6Ld.js";import"./polymorphic-factory-Dsjmfy3G.js";import"./InputBase-BR3TA6Jv.js";import"./CloseButton-DsaY2qvx.js";import"./UnstyledButton-nbL01KvM.js";function C(){const c=u(),{redirectUrl:a}=p.useSearch(),[n,d]=m.useState(""),[i,t]=m.useState(""),e=l({mutationFn:async r=>(await(await f("/checkin/adminLogin/",{method:"POST",credentials:"include",body:JSON.stringify({password:r})})).json()).success,onSuccess:r=>{r?(console.log("REDIRECT URL: ",a),c({to:a})):t("Invalid password. Please try again.")},onError:()=>{t("An error occurred. Please try again.")}});return e.data?s.jsx("div",{children:"âœ… Logged in successfully"}):s.jsx(x,{maw:o(300),mt:o(15),ml:o(15),children:s.jsxs("form",{onSubmit:r=>{r.preventDefault(),t(""),e.mutate(n)},children:[s.jsx(h,{order:4,mb:4,children:"Enter Password"}),s.jsx(j,{type:"password",value:n,onChange:r=>d(r.target.value),placeholder:"Password",mb:10}),(i||e.isError)&&s.jsx(w,{c:"red",size:"sm",mb:3,children:i}),s.jsx(g,{submitting:e.isPending})]})})}export{C as component};
