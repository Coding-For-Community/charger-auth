import{b as d,r as i,j as s,a as o}from"./index-BqTru8hP.js";import{u}from"./useMutation-BrGt6eE1.js";import{f as p}from"./fetchBackend-C9uYacD6.js";import{S as l}from"./SignInButton-wuizvn64.js";import{P as f}from"./Paper-BqMcMbvK.js";import{T as g}from"./Title-CKNj1X-Y.js";import{T as x}from"./TextInput-fgqT366L.js";import{T as h}from"./Text-CFB5sB-0.js";import"./CloseButton-CZ-4pOrX.js";import"./UnstyledButton-rzi-lcRA.js";function L(){const m=d(),[a,c]=i.useState(""),[n,t]=i.useState(""),e=u({mutationFn:async r=>(await(await p("/checkin/adminLogin/",{method:"POST",credentials:"include",body:JSON.stringify({password:r})})).json()).success,onSuccess:r=>{r?m.history.back():t("Invalid password. Please try again.")},onError:()=>{t("An error occurred. Please try again.")}});return e.data?s.jsx("div",{children:"âœ… Logged in successfully"}):s.jsx(f,{maw:o(300),mt:o(15),ml:o(15),children:s.jsxs("form",{onSubmit:r=>{r.preventDefault(),t(""),e.mutate(a)},children:[s.jsx(g,{order:4,mb:4,children:"Enter Password"}),s.jsx(x,{type:"password",value:a,onChange:r=>c(r.target.value),placeholder:"Password",mb:10}),(n||e.isError)&&s.jsx(h,{c:"red",size:"sm",mb:3,children:n}),s.jsx(l,{submitting:e.isPending})]})})}export{L as component};
